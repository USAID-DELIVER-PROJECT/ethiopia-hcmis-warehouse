
// Generated by MyGeneration Version # (1.3.0.3)

using System;
using System.Data;
using DAL;

namespace BLL
{
    /// <summary>
    /// Drug Category class
    /// </summary>
	public class Category : _Category
	{
	   /// <summary>
	   /// Gets the list of categories and sub categories for drugs
	   /// Please use the ID and ParentID fields to build it into a tree.
	   /// </summary>
	   /// <returns></returns>
        public DataTable GetCategoryTree()
        {
            var query = HCMIS.Repository.Queries.Category.SelectGetCategoryTreeCategory();
            this.LoadFromRawSql(query);
            DataTable tbl = this.DataTable;

            query = HCMIS.Repository.Queries.Category.SelectGetCategoryTreeSubCategory();
            this.LoadFromRawSql(query);
            tbl.Merge(this.DataTable);

            DataRow r = tbl.NewRow();
            r["ID"] = "P999";
            r["Name"] = "All Items";
            tbl.Rows.Add(r);
            return tbl;
        }
	}
}
