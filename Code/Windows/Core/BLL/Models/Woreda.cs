
// Generated by MyGeneration Version # (1.3.0.3)

using System.Data;
using DAL;

namespace BLL
{
    /// <summary>
    /// Woreda Logic
    /// </summary>
    public class Woreda : _Woreda
    {

        /// <summary>
        /// lists woreda's in a zone
        /// </summary>
        /// <param name="zoneId">The zone id.</param>
        /// <returns></returns>
        public static Woreda GetWoredaByZone(int zoneId)
        {
            Woreda woreda = new Woreda();
            woreda.FlushData();
            woreda.Where.WhereClauseReset();
            woreda.Where.ZoneID.Value = zoneId;
            woreda.Query.Load();
            woreda.Sort = "WoredaName ASC";
            return woreda;
        }


        /// <summary>
        /// Gets the woreda by zone and number RU.
        /// </summary>
        /// <param name="zoneId">The zone id.</param>
        /// <returns></returns>
        public static DataTable GetWoredaByZoneAndNumberRU(int zoneId)
        {
            Woreda woredas = new Woreda();
            string query =
                HCMIS.Repository.Queries.Woreda.SelectGetWoredaByZoneAndNumberRU(zoneId);
            Institution institution = new Institution();
            woredas.LoadFromRawSql(query);
            return woredas.DataTable;
        }

       

        /// <summary>
        /// Gets the woreda by zone and number RU.
        /// </summary>
        /// <param name="zoneId">The zone id.</param>
        /// <param name="storeID">The store ID.</param>
        /// <param name="issuedTo">if set to <c>true</c> [issued to].</param>
        /// <returns></returns>
        public static DataTable GetWoredaByZoneAndNumberRU(int zoneId,int storeID, bool issuedTo)
        {
            Woreda woredas = new Woreda();
            if (issuedTo)
            {                
                string query =
                    HCMIS.Repository.Queries.Woreda.SelectGetWoredaByZoneAndNumberRU(zoneId, storeID);
                Institution institution = new Institution();
                woredas.LoadFromRawSql(query);
            }
            return woredas.DataTable;
        }
    }
}
