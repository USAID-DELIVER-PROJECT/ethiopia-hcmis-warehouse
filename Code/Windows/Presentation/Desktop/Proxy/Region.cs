
// Generated by MyGeneration Version # (1.3.0.9)

using System;
using System.Collections.Generic;

namespace Proxy
{
    public class Region
    {

        #region Properties

        private int? _ID;
        public int? ID
        {
            get
            {
                return _ID;
            }
            set
            {
                _ID = value;
            }
        }

        private string _RegionName;
        public string RegionName
        {
            get
            {
                return _RegionName;
            }
            set
            {
                _RegionName = value;
            }
        }

        private string _RegionCode;
        public string RegionCode
        {
            get
            {
                return _RegionCode;
            }
            set
            {
                _RegionCode = value;
            }
        }

        private bool? _IsDeleted;
        public bool? IsDeleted
        {
            get
            {
                return _IsDeleted;
            }
            set
            {
                _IsDeleted = value;
            }
        }

        private DateTime? _UpdateTime;
        public DateTime? UpdateTime
        {
            get
            {
                return _UpdateTime;
            }
            set
            {
                _UpdateTime = value;
            }
        }


        #endregion

        #region Web Service Getters

        public static List<Region> GetAll()
        {
            BLL.Region v = new BLL.Region();
            v.LoadAll();
            return ToList(v);
        }

        public static List<Region> GetUpdatesAfter(long? lastVersion, DateTime? lastUpdateTime)
        {
            BLL.Region v = new BLL.Region();
            if (lastVersion.HasValue && lastVersion.Value != 0)
            {
                v.LoadUpdatesAfter(Convert.ToInt32(lastVersion.Value));
            }
            else if (lastUpdateTime.HasValue)
            {
                // v.LoadUpdatesAfterByTime(lastUpdateTime.Value);
            }
            else
            {
                v.LoadAll();
            }
            return ToList(v);
        }

        public static List<int> GetDeletedIDsAfter(long LastVersion)
        {
            BLL.Region v = new BLL.Region();
            //v.LoadDeletedIDs(LastVersion);
            List<int> list = new List<int>();
            while (!v.EOF)
            {
                list.Add((int)v.GetColumn("ID"));
                v.MoveNext();
            }
            return list;
        }

        #endregion



        #region Utilities

        public static List<Region> ToList(BLL.Region v)
        {
            List<Region> list = new List<Region>();
            while (!v.EOF)
            {
                Region t = new Region();
                if (!v.IsColumnNull("ID"))
                    t.ID = v.ID;
                if (!v.IsColumnNull("RegionName"))
                    t.RegionName = v.RegionName;
                if (!v.IsColumnNull("RegionCode"))
                    t.RegionCode = v.RegionCode;


                list.Add(t);
                v.MoveNext();
            }
            return list;
        }

        #endregion


        #region Web service Saving

        public static void SaveList(List<HCMIS.Desktop.GeneralLookups.Region> list)
        {
            BLL.Region bv = new BLL.Region();
            foreach (HCMIS.Desktop.GeneralLookups.Region v in list)
            {
                // try to load by primary key
                bv.LoadByPrimaryKey(v.ID.Value);

                // if the entry doesn't exist, create it
                if (bv.RowCount == 0)
                {
                    bv.AddNew();
                }
                // populate the contents of v on the to the database list
                if (v.ID.HasValue)
                    bv.ID = v.ID.Value;
                if (v.RegionName != "" && v.RegionName != null)
                    bv.RegionName = v.RegionName;
                if (v.RegionCode != "" && v.RegionCode != null)
                    bv.RegionCode = v.RegionCode;
                //if( v.IsDeleted.HasValue )
                //     bv.IsDeleted = v.IsDeleted.Value;
                //if( v.UpdateTime.HasValue )
                //     bv.UpdateTime = v.UpdateTime.Value;

                bv.Save();
            }


        }

        public static void DeleteList(List<int> list)
        {
            BLL.Region bv = new BLL.Region();
            foreach (int v in list)
            {
                // try to load by primary key
                bv.LoadByPrimaryKey(v);
                // if the entry doesn't exist, create it
                if (bv.RowCount > 0)
                {
                    bv.MarkAsDeleted();
                    bv.Save();
                }
                // populate the contents of v on the to the database list

            }


        }


        #endregion
    }
}
