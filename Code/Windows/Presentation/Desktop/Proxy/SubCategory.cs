
// Generated by MyGeneration Version # (1.3.0.9)

using System.Collections.Generic;

namespace Proxy
{
	public class SubCategory 
	{
	
    //#region Web Service Getters
		
    //    public static List<Proxy.SubCategory> GetAll()
    //    {
    //        BLL.SubCategory v = new BLL.SubCategory();
    //        v.LoadAll();
    //        return ToList(v);
    //    }
		
    //    public static List<Proxy.SubCategory> GetUpdatesAfter(int LastVersion)
    //    {
    //        BLL.SubCategory v = new BLL.SubCategory();
    //        v.LoadUpdatesAfter( LastVersion );
    //        return ToList(v);
    //    }
		
    //#endregion
	
	
	
	#region Utilities
	
		public static List<Proxy.DrugSubCategory> ToList(BLL.SubCategory v){
            List<Proxy.DrugSubCategory> list = new List<Proxy.DrugSubCategory>();
            while (!v.EOF)
            {
                Proxy.DrugSubCategory t = new Proxy.DrugSubCategory();
              if(!v.IsColumnNull("ID"))
				     t.ID = v.ID;
              if(!v.IsColumnNull("CategoryId"))
				     t.CategoryId = v.CategoryId;
              if(!v.IsColumnNull("SubCategoryName"))
				     t.SubCategoryName = v.SubCategoryName;
              if(!v.IsColumnNull("SubCategoryCode"))
				     t.SubCategoryCode = v.SubCategoryCode;
              if(!v.IsColumnNull("Description"))
				     t.Description = v.Description;
              if(!v.IsColumnNull("ParentID"))
				     t.ParentID = v.ParentID;

				list.Add(t);
                v.MoveNext();
            }
            return list;
		}
	
		#endregion
		
		
		#region Web service Saving

        public static void SaveList(List<Proxy.DrugSubCategory> list)
        {
            BLL.SubCategory bv = new BLL.SubCategory();
            foreach (Proxy.DrugSubCategory v in list)
            {
                // try to load by primary key
                bv.LoadByPrimaryKey(v.ID.Value);
                // if the entry doesn't exist, create it
                if (bv.RowCount == 0)
                {
                    bv.AddNew();
                }
                // populate the contents of v on the to the database list
				              if( v.ID.HasValue )
				   bv.ID = v.ID.Value;
              if( v.CategoryId.HasValue )
				   bv.CategoryId = v.CategoryId.Value;
              if( v.SubCategoryName != "" && v.SubCategoryName != null )
				   bv.SubCategoryName = v.SubCategoryName;
              if( v.SubCategoryCode != "" && v.SubCategoryCode != null )
				   bv.SubCategoryCode = v.SubCategoryCode;
              if( v.Description != "" && v.Description != null )
				   bv.Description = v.Description;
              if( v.ParentID.HasValue )
				   bv.ParentID = v.ParentID.Value;

                bv.Save();
            }


        }
	
	#endregion
	}
}
